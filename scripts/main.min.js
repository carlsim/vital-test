/* eslint-env browser */
(function() {
  'use strict';
  
  // My JS
  console.log('[Running JS] Hello World!');

  //Variable declarations
  const API_URL = 'https://carlsim.github.io/vital-test/data/data.json';

  //logging output
  // console.log(API_URL);

  /**
   * Get data from API
   */
  async function getData() {
    // Variable declarations for data expected
    const response = await fetch(`${API_URL}`);
    const data = await response.json();

    const countryCode = data.countryCode.toLowerCase();
    const currentURL = document.location.href;

    /**
     * Check to see if URL contains the country code
     * If doesnt exist, put it in URL otherwise don't do anything
     */
    if(currentURL.includes("?ca")) {
    }else {
      document.location.href += '?' + countryCode;
    }
  }

  // Call async function to get the data from JSON
  getData()
  .catch(error => {
    console.log(`Error: ${error}`);
  });
})();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG4gIFxuICAvLyBNeSBKU1xuICBjb25zb2xlLmxvZygnW1J1bm5pbmcgSlNdIEhlbGxvIFdvcmxkIScpO1xuXG4gIC8vVmFyaWFibGUgZGVjbGFyYXRpb25zXG4gIGNvbnN0IEFQSV9VUkwgPSAnaHR0cHM6Ly9jYXJsc2ltLmdpdGh1Yi5pby92aXRhbC10ZXN0L2RhdGEvZGF0YS5qc29uJztcblxuICAvL2xvZ2dpbmcgb3V0cHV0XG4gIC8vIGNvbnNvbGUubG9nKEFQSV9VUkwpO1xuXG4gIC8qKlxuICAgKiBHZXQgZGF0YSBmcm9tIEFQSVxuICAgKi9cbiAgYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgICAvLyBWYXJpYWJsZSBkZWNsYXJhdGlvbnMgZm9yIGRhdGEgZXhwZWN0ZWRcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9VUkx9YCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIGNvbnN0IGNvdW50cnlDb2RlID0gZGF0YS5jb3VudHJ5Q29kZS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRVUkwgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIFVSTCBjb250YWlucyB0aGUgY291bnRyeSBjb2RlXG4gICAgICogSWYgZG9lc250IGV4aXN0LCBwdXQgaXQgaW4gVVJMIG90aGVyd2lzZSBkb24ndCBkbyBhbnl0aGluZ1xuICAgICAqL1xuICAgIGlmKGN1cnJlbnRVUkwuaW5jbHVkZXMoXCI/Y2FcIikpIHtcbiAgICB9ZWxzZSB7XG4gICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmICs9ICc/JyArIGNvdW50cnlDb2RlO1xuICAgIH1cbiAgfVxuXG4gIC8vIENhbGwgYXN5bmMgZnVuY3Rpb24gdG8gZ2V0IHRoZSBkYXRhIGZyb20gSlNPTlxuICBnZXREYXRhKClcbiAgLmNhdGNoKGVycm9yID0+IHtcbiAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyb3J9YCk7XG4gIH0pO1xufSkoKTtcbiJdLCJmaWxlIjoibWFpbi5qcyJ9

//# sourceMappingURL=main.min.js.map
